<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<error-handler name="edocuments-errorhandler" doc:id="60f66e56-4321-4bf9-94b2-f75b52491eae" >
		<on-error-continue enableNotifications="true" logException="true" doc:name="On Error Continue" doc:id="e2775a04-09db-40d2-a8e6-3d4123e8b277" type="ANY">
			<set-variable value="#[500]" doc:name="Set httpStatus Code" doc:id="7a151484-8fbc-4490-bd53-4f3d4c35cc84" variableName="httpStatus"/>
			<ee:transform doc:name="Transform Message" doc:id="e714ea90-a5ab-4b09-a806-11d4bfe4d4ba" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
 "responseCode": "500",
 "responseMessage": "Internal transformation error.",
 "deposit_list": [],
 "loan_acc_list": [],
 "valErrors": []
}]]></ee:set-payload>
				</ee:message>
			</ee:transform>
		</on-error-continue>		
	</error-handler>
</mule>
